(this.webpackJsonpflickr=this.webpackJsonpflickr||[]).push([[0],{109:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(22),o=n.n(r),i=(n(83),n(32)),s=n(16),j=n(64),l=n.n(j),u=n(132),b=n(137),h=n(133),O=n(135),d=n(128),p=n(134),f=n(136),x=n(6),g=n(40),m=n.n(g),v=n(126),k=n(129),_=n(130),S=n(25),P=n(2),C=function(){return Object(P.jsx)("div",{className:m.a.navbarContainer,children:Object(P.jsxs)(v.a,{container:!0,direction:"column",alignItems:"center",children:[Object(P.jsx)(S.b,{to:"/search",children:Object(P.jsx)(d.a,{color:"primary",className:m.a.hov,children:Object(P.jsx)(k.a,{fontSize:"large"})})}),Object(P.jsx)(S.b,{to:"/bookmarks",children:Object(P.jsx)(d.a,{color:"primary",children:Object(P.jsx)(_.a,{fontSize:"large",className:m.a.hov})})})]})})},N=function(e,t){return localStorage.setItem(e,t)},E=function(e){return JSON.parse(localStorage.getItem(e)||"[]")},y=n(111),T=n(48),R=n.n(T),B=function(e){var t=e.photos,n=e.titleBtn,c=e.handlerOnClick;return Object(P.jsx)("div",{className:R.a.containerPhotos,children:t.map((function(e){return Object(P.jsx)("div",{children:Object(P.jsx)(y.a,{elevation:3,children:Object(P.jsxs)("div",{className:R.a.photo,children:[Object(P.jsx)("img",{src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),alt:""}),Object(P.jsx)("button",{onClick:function(){return c(e.id)},children:n}),Object(P.jsx)("span",{children:e.title})]},e.id)})},e.id)}))})},A=n(49),M=n.n(A),w=function(){var e=Object(c.useState)(E("stateLocalStorage")),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(P.jsxs)("div",{className:M.a.bookmarks,children:[Object(P.jsx)("h1",{children:"Bookmarks!!!"}),Object(P.jsx)("div",{className:M.a.photo,children:Object(P.jsx)(B,{photos:n,titleBtn:"Remove it!",handlerOnClick:function(e){var t=n.filter((function(t){return t.id!==e}));a(t),N("stateLocalStorage",JSON.stringify(t))}})})]})},G=n(24),L=n.n(G),F=function(e){var t=e.active,n=e.setActive,c=e.children;return Object(P.jsx)("div",{className:t?"".concat(L.a.modal," + '' + ").concat(L.a.active):L.a.modal,onClick:function(){return n(!1)},children:Object(P.jsx)("div",{className:t?"".concat(L.a.modalContent," + '' + ").concat(L.a.active):L.a.modalContent,children:c})})},I=n(18),J=n(17),z=n(69),U=n.n(z).a.create({baseURL:"https://api.flickr.com/services/rest"}),D=function(e,t,n){return U.get("?method=flickr.photos.search&api_key=92b0159e2ce672e465a40e3f519c6412&tags=".concat(e,"&per_page=").concat(n,"&page=").concat(t,"&format=json&nojsoncallback=1"))},W={photos:[],pagination:{page:1,pages:null,perpage:15}},X=function(e){return{type:"SET-NEW-PHOTOS",photos:e}},H=function(e){return{type:"SET-PAGES",pages:e}},q=function(e){return{type:"SET-CURRENT-PAGE",currentPage:e}},K=function(e){return function(t,n){var c=n().mainPageReducer.pagination,a=c.page,r=c.perpage;try{D(e,a,r).then((function(e){var n=e.data.photos,c=n.pages,a=n.photo;t(X(a)),t(H(c))}))}catch(o){console.log("Error")}}},V=n(50),Z=n.n(V),Q=n(70),Y=n.n(Q),$=n(131),ee=n(71),te=n.n(ee),ne=n(72),ce=n.n(ne),ae=function(){var e=Object(I.c)((function(e){return e.mainPageReducer.pagination.pages})),t=Object(I.c)((function(e){return e.mainPageReducer.pagination.page})),n=Object(I.b)(),a=[];if(e)for(var r=1;r<=e;r++)a.push(r);var o=Math.ceil(a.length/11),i=Object(c.useState)(1),j=Object(s.a)(i,2),l=j[0],u=j[1],b=11*(l-1)+1,h=11*l;return Object(P.jsxs)("div",{className:Y.a.container,children:[l>1&&Object(P.jsx)($.a,{variant:"outlined",color:"primary",onClick:function(){u(l-1)},children:Object(P.jsx)(te.a,{})}),a.filter((function(e){return e>=b&&e<=h})).map((function(e){return Object(P.jsx)($.a,{color:"primary",variant:t===e?"contained":void 0,onClick:function(){!function(e){n(q(e))}(e)},children:e})})),o>l&&Object(P.jsx)($.a,{variant:"outlined",color:"primary",onClick:function(){u(l+1)},children:Object(P.jsx)(ce.a,{})})]})},re=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),j=o[0],l=o[1],u=Object(c.useState)(E("stateLocalStorage")),b=Object(s.a)(u,2),h=b[0],O=b[1],d=Object(I.c)((function(e){return e.mainPageReducer.pagination.page})),p=Object(I.c)((function(e){return e.mainPageReducer.photos})),f=Object(I.b)();Object(c.useEffect)((function(){n&&f(K(n))}),[d,f,n]);return Object(P.jsxs)("div",{className:Z.a.searchContainer,children:[Object(P.jsx)("input",{className:Z.a.inputSearch,onChange:function(e){a(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&f(K(n))},placeholder:"Search"}),Object(P.jsx)(F,{active:j,setActive:l,children:"Photo has already been added"}),Object(P.jsx)(ae,{}),Object(P.jsx)(B,{photos:p,titleBtn:"Bookmarks it!",handlerOnClick:function(e){var t=p.filter((function(t){return t.id===e}));h.find((function(t){return t.id===e}))?l(!0):(O([].concat(Object(i.a)(h),[t[0]])),N("stateLocalStorage",JSON.stringify([].concat(Object(i.a)(h),[t[0]]))))}})]})},oe=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),o=Object(s.a)(r,2),j=o[0],g=o[1],m=Object(u.a)((function(e){return Object(b.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})}));return Object(P.jsxs)("div",{onClick:function(){},onMouseMove:function(){n.length>0&&(n.forEach((function(e){"number"===typeof e&&window.clearTimeout(e)})),a([]),g(!1)),a([].concat(Object(i.a)(n),[setTimeout((function(){g(!0)}),6e4)]))},children:[Object(P.jsx)(h.a,{position:"static",children:Object(P.jsxs)(p.a,{children:[Object(P.jsx)(O.a,{variant:"h6",className:m().title,children:"Search on Flickr"}),Object(P.jsx)("div",{children:Object(P.jsx)(d.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",children:Object(P.jsx)(f.a,{})})})]})}),Object(P.jsxs)("div",{className:l.a.mainPage,children:[Object(P.jsx)(C,{}),Object(P.jsx)(F,{active:j,setActive:g,children:"Sleep mode"}),Object(P.jsxs)(x.d,{children:[Object(P.jsx)(x.b,{exact:!0,path:"/",render:function(){return Object(P.jsx)(x.a,{to:"/search"})}}),Object(P.jsx)(x.b,{exact:!0,path:"/search",render:function(){return Object(P.jsx)(re,{})}}),Object(P.jsx)(x.b,{exact:!0,path:"/bookmarks",render:function(){return Object(P.jsx)(w,{})}}),Object(P.jsx)(x.b,{exact:!0,path:"/404",render:function(){return Object(P.jsx)("div",{children:"404 PAGE NO FOUND"})}}),Object(P.jsx)(x.b,{exact:!0,path:"*",render:function(){return Object(P.jsx)(x.a,{to:"404"})}})]})]}),Object(P.jsx)(h.a,{position:"static",children:Object(P.jsx)(p.a,{children:Object(P.jsx)(O.a,{variant:"h6",className:m().title})})})]})},ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,139)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},se=n(41),je=n(73),le=Object(se.b)({mainPageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-NEW-PHOTOS":return Object(J.a)(Object(J.a)({},e),{},{photos:t.photos});case"SET-PAGES":return Object(J.a)(Object(J.a)({},e),{},{pagination:Object(J.a)(Object(J.a)({},e.pagination),{},{pages:t.pages})});case"SET-CURRENT-PAGE":return Object(J.a)(Object(J.a)({},e),{},{pagination:Object(J.a)(Object(J.a)({},e.pagination),{},{page:t.currentPage})});default:return e}}}),ue=Object(se.c)(le,Object(se.a)(je.a));o.a.render(Object(P.jsx)(a.a.StrictMode,{children:Object(P.jsx)(S.a,{children:Object(P.jsx)(I.a,{store:ue,children:Object(P.jsx)(oe,{})})})}),document.getElementById("root")),ie()},24:function(e,t,n){e.exports={modal:"Modal_modal__Me44A",active:"Modal_active__1zGVX",modalContent:"Modal_modalContent__3wrJi"}},40:function(e,t,n){e.exports={navbarContainer:"Navbar_navbarContainer__pO6nn",hov:"Navbar_hov__2oXMP"}},48:function(e,t,n){e.exports={containerPhotos:"PhotosPage_containerPhotos__1qLCP",photo:"PhotosPage_photo__3TOtB"}},49:function(e,t,n){e.exports={bookmarks:"BookmarksPage_bookmarks__1W7mk",photo:"BookmarksPage_photo__1F2ce"}},50:function(e,t,n){e.exports={searchContainer:"Search_searchContainer__30Zlz",inputSearch:"Search_inputSearch__32dDI"}},64:function(e,t,n){e.exports={mainPage:"App_mainPage__MfBjX"}},70:function(e,t,n){},83:function(e,t,n){}},[[109,1,2]]]);
//# sourceMappingURL=main.b34f9cdb.chunk.js.map